{% extends 'blog/home.html' %} 
{% load i18n %}
{% block page_header %}
<h1>{% translate "Articles" %} <small class="text-muted fs-5">{% translate "Share your writings" %}</small></h1>
{% endblock %}

<!-- Bloc "content" from parent -->
{% block content %}
<div class="table-responsive">
  <table class="table table-striped table-hover bg-white border">
    <thead class="table-light">
      <tr>
        <th scope="col">{% translate "Title" %}</th>
        <th scope="col">{% translate "Writer" %}</th>
        <th scope="col">{% translate "Created" %}</th>
        <th scope="col">{% translate "When" %}</th>
        <th scope="col">{% translate "Synopsis" %}</th>
        <th scope="col" class="text-end">{% translate "Action" %}</th>
      </tr>
    </thead>
    <tbody>
      {% for article in articles %}
      <tr>
        <td>{{ article.title }}</a></td>
        <td>{{ article.author.username }}</td>
        <td>{{ article.created }}</td>
         <td>
            {% blocktranslate with time_since=article.created|timesince %}{{ time_since }} ago{% endblocktranslate %}
        </td>
        <td>{{ article.synopsis|truncatechars_html:20 }}</td>

        <td class="text-end">
          <a href="{% url 'blog:article-detail' pk=article.pk %}" class="btn btn-primary btn-sm">{% translate "Read" %}</a>
        </td>
      </tr>
      {% empty %}
        <tr>
            <td colspan="6" class="text-center p-4">{% translate "No articles have been written yet." %}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endblock %}
</div>
